{"version":3,"file":"angular-gantt-movable.min.js","sources":["angular-gantt-movable-plugin.js"],"names":["angular","module","directive","mouseButton","mouseOffset","debounce","smartEvent","movableOptions","$window","$document","$timeout","restrict","require","scope","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","registerEvent","options","option","movable","initialize","directives","on","new","directiveName","taskScope","taskElement","mouseOffsetInEm","moveStartX","scrollInterval","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","windowElement","ganttRowElement","row","$element","ganttBodyElement","rowsManager","body","ganttScrollElement","scroll","taskHasBeenChanged","bind","evt","$apply","mode","getMoveMode","getButton","offsetX","getOffsetForElement","x","enableMoveMode","e","task","isMoving","css","getCursor","handleMove","moveTask","scrollScreen","mousePos","mouseOffsetX","targetRow","getRowByY","y","undefined","id","moveTaskToRow","taskOutOfRange","width","moveTo","tasks","raise","move","left","setTo","resize","setFrom","leftScreenBorder","scrollLeft","keepOnScrolling","screenWidth","offsetWidth","rightScreenBorder","right","clearScrollInterval","cancel","offsetTop","offsetHeight","visibleRows","forEach","rows","hidden","push","rowHeight","length","pos","Math","floor","getOffset","distance","moveBegin","resizeBegin","moveMode","modelLeft","taskMoveHandler","unbind","disableMoveMode","bindOnce","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","cursor","moveEnd","resizeEnd","sortTasks","change","isCreating","factory"],"mappings":"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"}