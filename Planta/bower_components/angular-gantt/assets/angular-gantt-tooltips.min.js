/*! angular-gantt 11-11-2014 */
use strict;

"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$timeout",function(a,b){return{restrict:"E",require:"^gantt",link:function(c,d,e,f){var g=f.gantt.api;g.directives.on.new(c,function(c,d,e){"ganttTask"===c&&b(function(){e.prepend(a('<gantt-tooltip ng-model="task"></gantt-tooltip>')(d))})})}}}]),angular.module("gantt.tooltips").directive("ganttTooltip",["$timeout","$document","ganttDebounce","ganttSmartEvent",function(a,b,c,d){return{restrict:"E",templateUrl:function(a,b){return void 0===b.templateUrl?"plugins/tooltips/default.tooltip.tmpl.html":b.templateUrl},scope:!0,replace:!0,controller:["$scope","$element",function(e,f){var g,h,i=angular.element(b[0].body),j=f.parent();e.css={},e.$watch("isTaskMouseOver",function(b){g&&a.cancel(g),b===!0?g=a(function(){m(h)},500):e.task.isMoving||o()}),e.task.$element.bind("mousemove",function(a){h=a.clientX}),e.task.$element.bind("mouseenter",function(a){e.$apply(function(){e.mouseEnterX=a.clientX,e.isTaskMouseOver=!0})}),e.task.$element.bind("mouseleave",function(){e.$apply(function(){e.mouseEnterX=void 0,e.isTaskMouseOver=!1})});var k=d(e,i,"mousemove",c(function(a){n(a.clientX)},5,!1));e.$watch("task.isMoving",function(a){a===!0?k.bind():a===!1&&(k.unbind(),o())});var l=function(){var a=b[0];return a.documentElement.clientWidth||a.documentElement.getElementById("body")[0].clientWidth},m=function(b){a(function(){n(b),e.css.top=j[0].getBoundingClientRect().top+"px",e.css.marginTop=-f[0].offsetHeight-8+"px",e.css.opacity=1,e.css["z-index"]=10},0,!0)},n=function(a){a+f[0].offsetWidth>l()?(e.css.left=a+20-f[0].offsetWidth+"px",f.addClass("gantt-task-infoArrowR"),f.removeClass("gantt-task-infoArrow")):(e.css.left=a-20+"px",f.addClass("gantt-task-infoArrow"),f.removeClass("gantt-task-infoArrowR"))},o=function(){e.css.opacity=0,e.css["z-index"]=-10};e.gantt.api.directives.raise.new("ganttTooltip",e,f),e.$on("$destroy",function(){e.gantt.api.directives.raise.destroy("ganttTooltip",e,f)})}]}}]);
//# sourceMappingURL=angular-gantt-tooltips.min.js.map